<!DOCTYPE HTML>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Banyan</title><base href="/"><link rel="shortcut icon" href="banyan.svg" type="image/svg"><link rel="stylesheet" href="style.css?ac7bc8214828a2f73fb48c4cf7ae4654"></head><body class="overflow-y-scroll bg-gray-200"><div class="container mx-auto max-w-screen-md"><div class="flex flex-col mt-2"><div id="top" class="border-2 p-1 rounded text-center print:hidden"><header class="flex items-center justify-center border-b-4 border-green-500"><a href="https://github.com/srid/banyan"><img class="w-8" src="/banyan.svg"></a></header></div><div class="flex flex-row pt-2"><div id="sidebar" class="print:hidden"><div class="border-r-2 md:h-full pr-4 mr-4"><a class="font-semibold underline decoration-2 decoration-green-500 decoration-wavy">Index</a><div class=""><div class="pl-3 my-1"><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="PjorLl0gmEykt">ChangeLog</a><div><div class="pl-3 my-1"><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="Snlr2yxMG61oz">Tailwind</a><div></div></div></div></div><div class="pl-3 my-1"><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="dKuTgZ1YJfcoB">Using</a><div><div class="pl-3 my-1"><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="JSR2CdqWHAaS7">Easy UX</a><div></div></div></div></div></div></div></div><div id="main"><header>Timeline</header><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>PbBEzg5uCNOH9</div><span class="opacity-60">2022-01-03 16:08:20.719 UTC</span></div></div><div class="prose"><p class="my-2">node’s <code>concurrently</code> is a decent package that mimick’s <code>Procfile</code>.</p><div class="py-0.5 text-sm"><pre class="json language-json"><code class="json language-json">  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;concurrently npm:banyan:*&quot;,
    &quot;banyan:tailwind&quot;: &quot;cd tailwind &amp;&amp; make&quot;,
    &quot;banyan:haskell&quot;: &quot;bin/run-haskell&quot;
  }</code></pre></div><p class="my-2">I use this to spawn both <code>ghcid</code> and <code>tailwindcss</code> watcher in the same process, with output interleaved. Though <code>concurrently</code> seems to have trouble with actually shutting down ghcid. I have to manually kill a stale ghcid spawned process to make the port available.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>TWOlhrUudRkKK</div><span class="opacity-60">2022-01-03 15:44:01.489 UTC</span></div></div><div class="prose"><p class="my-2">Keeping generated CSS in source control.</p><p class="my-2">So banyan user will not have to be running Tailwind watcher. For apps like Emanote we want the user to be able to do this, though. But other Ema apps don’t need to. So there are two models here:</p><ol class="list-inside ml-2 space-y-1  list-decimal"><li class="">Dev-time Tailwind watcher</li><li class="">Run-time Tailwind watcher</li></ol><ol class="list-inside ml-2 space-y-1  list-decimal"><li class="">is simpler to implement, and should be sufficient for most Ema apps. But Emanote will need (2), which also brings in a long-running nodeJS process into user’s machine.</li></ol></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>uMz4MuRwCsHKa</div><span class="opacity-60">2022-01-03 02:13:53.895 UTC</span></div></div><div class="prose"><p class="my-2">Initial prototype for this is working well. Just need to run tailwindcss watcher in separate terminal, and the model static file “versioning” trick picks up the Tailwind’s artifact, albeit with a slight delay, which is acceptable.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="Snlr2yxMG61oz">Tailwind</a> (3)</div><span class="opacity-60">2022-01-03 02:13:14.615 UTC</span></div></div><div class="prose"><p class="my-2">Banyan now uses Tailwind 3.0 to build the CSS, both in live server and during static site generation. This does add nodeJS as our dev dependencuy, but on the plus side we get all the cool new features of Tailwind (like <code>print:hidden</code>).</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>aD2O4nepToWPm</div><span class="opacity-60">2022-01-02 16:42:00.571 UTC</span></div></div><div class="prose"><p class="my-2"><strong>Editing and creating</strong> new nodes now happen through the VSCode extension. See [[Vkq67y0nSrC6a]] for details.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>Vkq67y0nSrC6a</div><span class="opacity-60">2021-12-31 23:10:42.361 UTC</span></div></div><div class="prose"><p class="my-2">Brilliant idea. VSCode extensions are like mini-apps in themselves. VSCode exposes their ‘callbacks’ via app URIs, which can be linked to from HTML pages. I wrote a VSCode extension for Banayan that accepts two invocations:</p><ul class="list-inside ml-2 space-y-1  list-disc"><li class="">Edit parent</li><li class="">New node (under another parent)</li></ul><p class="my-2">This takes care the rest of the Ema workflow for me – creating new nodes under an existing parent, and editing nodes. Good enough for now.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>oHHkvYOi62tuB</div><span class="opacity-60">2021-12-30 22:23:05 UTC</span></div></div><div class="prose"><p class="my-2">No more DOT!</p><p class="my-2">Storing parent relationship in YAML now. And now I can add a CLI that creates a child node easily. Plus this is indeed easier to hand-edit than graph.dot.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>ZSzcUhmKW4Nm5</div><span class="opacity-60">2021-12-30 21:22:27 UTC</span></div></div><div class="prose"><p class="my-2">VSCode supports URL handler to open files, eg: <code>vscode://file&lt;path&gt;</code> - clicking which will open that file in VSCode. This is enough to add ‘edit this node’ links in Banyon. See <a class="text-yellow-600 hover:underline" href="https://github.com/microsoft/vscode-docs/blob/main/docs/editor/command-line.md#opening-vs-code-with-urls" title="" target="_blank" rel="noopener">https://github.com/microsoft/vscode-docs/blob/main/docs/editor/command-line.md#opening-vs-code-with-urls</a></p><p class="my-2">Shortcomings:</p><ul class="list-inside ml-2 space-y-1  list-disc"><li class="">It doesn’t automatically open the parent project folder</li><li class="">Have to use Brave, rather than Safari, to prevent future “Open?” prompts for <code>vscode:</code><ul class="list-inside ml-2 space-y-1  list-disc"><li class="">On the plus side, this would allow Banyon to be made a ‘chrome app’</li></ul></li></ul></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="JSR2CdqWHAaS7">Easy UX</a> (2)</div><span class="opacity-60">2021-12-30 21:19:23 UTC</span></div></div><div class="prose"><p class="my-2">Web apps like WOC are just easy to use. How can I achieve the same for Ema apps?</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="dKuTgZ1YJfcoB">Using</a> (2)</div><span class="opacity-60">2021-12-29 00:58:11 UTC</span></div></div><div class="prose"><p class="my-2">Thoughts on <em>using</em> Banyon for actual stuff.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>Yjv4oOKoRCK7J</div><span class="opacity-60">2021-12-29 00:56:28 UTC</span></div></div><div class="prose"><p class="my-2">There are two ways to deploy Banyon sites:</p><ul class="list-inside ml-2 space-y-1  list-disc"><li class="">GitHub Pages (statically) … or</li><li class="">run the ‘live server’ in a VPS with Syncthing doing the sync.</li></ul><p class="my-2">The latter is interesting for quick updates, but former is rather lightweight to maintain multiple sites without worrying about deployment and maintenance (not to mention security).</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>bXmEdSU7ELY8x</div><span class="opacity-60">2021-12-28 03:08:44 UTC</span></div></div><div class="prose"><p class="my-2">Decided to go with <code>graph.dot</code>, the DOT language, for defining all relationships. It enables multi-parent nodes, but more importantly I figured organizing wouuld easier, compared to managing the YAML meta of gazillion files.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>aqbGpJ380V3UU</div><span class="opacity-60">2021-12-28 01:09:54 UTC</span></div></div><div class="prose"><p class="my-2">Innovative? The static site displays the CLI to run for creating the ‘next’ note. Date is automatically injected; followed by letting the user type in the content (just as I <em>am</em> doing now) in the terminal. Poor man’s workflow.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="PjorLl0gmEykt">ChangeLog</a> (5)</div><span class="opacity-60"></span></div></div><div class="prose"><p class="my-2">Noteworthy reports from the dev front.</p></div></div></div></div></div><div class="font-mono text-xs flex items-center justify-center border-t-2 mt-4"></div></div></body></html>