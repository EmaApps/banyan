<!DOCTYPE HTML>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Banyan</title><base href="/"><link rel="shortcut icon" href="banyan.svg" type="image/svg"><link rel="stylesheet" href="style.css?a8a731f1e1c2ca43c8becd941f11671a"></head><body class="overflow-y-scroll bg-gray-200"><div class="container mx-auto max-w-screen-md"><div class="flex flex-col mt-2"><div id="top" class="border-2 p-1 rounded text-center print:hidden"><header class="flex items-center justify-center border-b-4 border-green-500"><a href="https://github.com/srid/banyan"><img class="w-8" src="/banyan.svg"></a></header></div><div class="flex flex-row pt-2"><div id="sidebar" class="print:hidden"><div class="border-r-2 md:h-full pr-4 mr-4"><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="">Index</a><div class=""><div class="pl-3 my-1"><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="PjorLl0gmEykt">ChangeLog</a><div><div class="pl-3 my-1"><a class="font-semibold underline decoration-2 decoration-green-500 decoration-wavy">Tailwind</a><div></div></div></div></div><div class="pl-3 my-1"><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="dKuTgZ1YJfcoB">Using</a><div><div class="pl-3 my-1"><a class="text-green-600 hover:bg-green-500 hover:text-white transition-colors" href="JSR2CdqWHAaS7">Easy UX</a><div></div></div></div></div></div></div></div><div id="main"><header class="text-2xl font-bold">Tailwind</header><div class="my-2"><div class="prose"><p>Banyan now uses Tailwind 3.0 to build the CSS, both in live server and during static site generation. This does add nodeJS as our dev dependencuy, but on the plus side we get all the cool new features of Tailwind (like <code>print:hidden</code>).</p></div></div><div class="my-2 "><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>PbBEzg5uCNOH9</div><span class="opacity-60">2022-01-03 16:08:20.719 UTC</span></div></div><div class="prose"><p>node’s <code>concurrently</code> is a decent package that mimick’s <code>Procfile</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>  <span class="er">&quot;scripts&quot;:</span> <span class="fu">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;dev&quot;</span><span class="fu">:</span> <span class="st">&quot;concurrently npm:banyan:*&quot;</span><span class="fu">,</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;banyan:tailwind&quot;</span><span class="fu">:</span> <span class="st">&quot;cd tailwind &amp;&amp; make&quot;</span><span class="fu">,</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;banyan:haskell&quot;</span><span class="fu">:</span> <span class="st">&quot;bin/run-haskell&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span></code></pre></div>
<p>I use this to spawn both <code>ghcid</code> and <code>tailwindcss</code> watcher in the same process, with output interleaved. Though <code>concurrently</code> seems to have trouble with actually shutting down ghcid. I have to manually kill a stale ghcid spawned process to make the port available.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>TWOlhrUudRkKK</div><span class="opacity-60">2022-01-03 15:44:01.489 UTC</span></div></div><div class="prose"><p>Keeping generated CSS in source control.</p>
<p>So banyan user will not have to be running Tailwind watcher. For apps like Emanote we want the user to be able to do this, though. But other Ema apps don’t need to. So there are two models here:</p>
<ol type="1">
<li>Dev-time Tailwind watcher</li>
<li>Run-time Tailwind watcher</li>
</ol>
<p>No. 1 is simpler to implement, and should be sufficient for most Ema apps. But Emanote will need No. 2, which also brings in a long-running nodeJS process into user’s machine.</p></div></div><div class="rounded shadow p-2 my-2 bg-white max-w-prose"><div class="text-sm text-gray-500"><div class="font-mono text-xs flex flex-row items-center justify-between bg-gray-50 hover:bg-gray-100 p-1"><div>uMz4MuRwCsHKa</div><span class="opacity-60">2022-01-03 02:13:53.895 UTC</span></div></div><div class="prose"><p>Initial prototype for this is working well. Just need to run tailwindcss watcher in separate terminal, and the model static file “versioning” trick picks up the Tailwind’s artifact, albeit with a slight delay, which is acceptable.</p></div></div></div><div class="font-mono text-xs text-gray-400 mt-8">Just (Meta {title = Just &quot;Tailwind&quot;, date = Just 2022-01-03 02:13:14.615 UTC, parent = Just PjorLl0gmEykt})</div></div></div></div><div class="font-mono text-xs flex items-center justify-center border-t-2 mt-4"></div></div></body></html>